# LiangMu-Studio API Key 管理工具 v0.9

一个简单易用的 API 密钥管理工具，支持多个 API 配置、快速切换和集成终端。支持自动激活 Python 环境和自动启动 Claude。

## 功能特性

### 🔑 密钥管理
- **新增配置** - 添加新的 API 密钥配置
- **编辑配置** - 修改已有的配置信息
- **删除配置** - 移除不需要的配置
- **复制密钥** - 一键复制密钥到剪贴板

### 🎯 快速操作
- **快捷键支持**
  - `Ctrl+T` - 快速打开终端
  - `Ctrl+C` - 快速复制密钥
  - `Delete` - 快速删除配置

### 📦 配置管理
- **导出配置** - 将所有配置保存为 JSON 文件（备份用）
- **导入配置** - 从 JSON 文件导入配置（支持合并）
- **排序管理** - 上移/下移调整配置顺序

### 💻 集成终端
- **多终端支持** - PowerShell 7、PowerShell 5、CMD
- **环境变量注入** - 自动设置 API 密钥和地址
- **工作目录选择** - 指定终端打开的目录
- **Python 环境管理** - 自动检测和激活 Conda 环境
- **Claude 自动启动** - 选择 Anthropic 提供商时自动进入 Claude

## 使用指南

### 第一次使用

1. **启动软件** - 运行 `gui.py`
2. **添加配置** - 点击"新增"按钮
3. **填写信息**
   - 标签：配置的名称（如 "Claude API"）
   - 提供商：选择 API 提供商类型（OpenAI、Azure、Anthropic、Custom）
   - API地址：API 的端点地址
   - KEY名称：环境变量名称（如 `ANTHROPIC_AUTH_TOKEN`）
   - API密钥：实际的 API 密钥

### 打开终端

1. **选择配置** - 在列表中点击要使用的配置
2. **选择终端** - 从下拉菜单选择终端类型
3. **选择 Python 环境**（可选）- 从下拉菜单选择要激活的 Python 环境
4. **选择目录**（可选）- 点击"浏览"选择工作目录
5. **打开终端** - 点击"打开终端"或按 `Ctrl+T`

终端会自动：
- 激活选定的 Python 环境
- 注入选中配置的 API 密钥和地址
- 如果选择了 Anthropic 提供商，会自动进入 Claude

### 备份和恢复

**导出配置**
- 点击"导出"按钮
- 选择保存位置
- 配置会保存为 JSON 文件

**导入配置**
- 点击"导入"按钮
- 选择之前导出的 JSON 文件
- 配置会合并到现有配置中

## 配置文件位置

- **配置数据** - `data/config.json`
- **终端设置** - `data/settings.json`
- **最后打开目录** - `data/last_folder.txt`

## 快捷键速查

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+T` | 打开终端 |
| `Ctrl+C` | 复制密钥 |
| `Delete` | 删除配置 |
| `双击` | 编辑配置 |

## 单实例运行

软件只允许运行一个实例。如果再次启动，会自动将已打开的窗口置顶。

## 支持的提供商

- OpenAI
- Azure
- Anthropic
- Custom（自定义）

## 常见问题

**Q: 密钥会被保存吗？**
A: 是的，密钥保存在本地 `data/config.json` 文件中。请妥善保管此文件。

**Q: 可以同时打开多个终端吗？**
A: 可以。每次点击"打开终端"都会创建一个新的终端窗口。

**Q: 如何迁移到其他电脑？**
A: 使用"导出"功能备份配置，然后在新电脑上使用"导入"功能恢复。

**Q: 支持哪些操作系统？**
A: 主要支持 Windows（PowerShell/CMD）。其他系统需要配置相应的终端命令。

**Q: 如何使用 Python 环境功能？**
A: 软件会自动检测系统中的 Conda 环境。选择要使用的环境后，打开终端时会自动激活该环境。

**Q: Claude 什么时候会自动启动？**
A: 当你选择的 API 配置提供商为 Anthropic 时，打开终端会自动进入 Claude。

## 版本历史

### v0.9 (2025-11-29)
- 新增 Python 环境自动检测和激活功能
- 新增 Claude 自动启动功能（仅限 Anthropic 提供商）
- 优化终端启动逻辑
- 改进环境变量设置方式

### v0.8
- 初始版本
- 支持多个 API 配置管理
- 集成终端功能
- 快捷键支持

## 版本信息

- 当前版本：0.9
- 许可证：GPL v3
- 开发者：LiangMu-Studio
- 反馈：[Issues](https://github.com/LiangMu-Studio/API_control/issues)
